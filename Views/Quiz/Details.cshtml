@model QuizApp.Models.Quiz      
@* The view receives a Quiz model to display its details *@

<h2>@Model.Title</h2>           @* Display quiz title *@
<p>@Model.Description</p>       @* Display quiz description *@


<h3>Questions</h3>

@* If the quiz has no questions, show a message and a button to add the first question *@
@if (Model.Questions == null || !Model.Questions.Any())
{
    <p>No questions added yet.</p>

    @* Button navigates to the Create Question page *@
    <a class="btn btn-primary"
       asp-controller="Questions"
       asp-action="Create"
       asp-route-quizId="@Model.QuizId">
        Add First Question
    </a>
}
else
{
    @* Button to add another question when questions exist *@
    <a class="btn btn-success mb-3"
       asp-controller="Questions"
       asp-action="Create"
       asp-route-quizId="@Model.QuizId">
        Add Question
    </a>

    @* List of existing questions *@
    <ul class="list-group">
        @foreach (var q in Model.Questions)
        {
            <li class="list-group-item">
                
                @* Show the question text and its point value *@
                <strong>@q.Text</strong> (@q.Points points)

                @* Display all answer options for this question *@
                <ul>
                    @foreach (var opt in q.Options)
                    {
                        <li style="@(opt.IsCorrect ? "color:green;font-weight:bold" : "")">
                            @opt.Text

                            @* If this option is correct, show a checkmark *@
                            @if (opt.IsCorrect)
                            {
                                <span>âœ“</span>
                            }
                        </li>
                    }
                </ul>

                @* Links to edit or delete the question *@
                <a asp-controller="Questions" asp-action="Edit" asp-route-id="@q.Id">Edit</a> |
                <a asp-controller="Questions" asp-action="Delete" asp-route-id="@q.Id">Delete</a>
            </li>
        }
    </ul>
}
